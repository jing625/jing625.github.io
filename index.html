<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="梁光静">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="梁光静">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="梁光静">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>梁光静</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">梁光静</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/11/CSS进阶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/11/CSS进阶/" itemprop="url">CSS进阶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-11T20:21:26+08:00">
                2018-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-父亲儿子的上下margin合并"><a href="#1-父亲儿子的上下margin合并" class="headerlink" title="1. 父亲儿子的上下margin合并"></a>1. 父亲儿子的上下margin合并</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .child&#123;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">      margin-top: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">    .parent&#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      background: green;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>这样儿子的margin-top会给到父亲，把父亲挤下来，但只要在父亲里加：</p>
<ul>
<li><code>border: 0.1px solid green;</code></li>
<li><code>padding: 0.1px</code></li>
<li><code>display: table;</code></li>
<li><code>display: flex;</code>（不加width的话会把width变成0）</li>
<li><code>display: inline-block</code>（不加width的话会把width变成0）</li>
</ul>
<p>则上下margin不会合并，父亲还是会把儿子包起来</p>
<h1 id="2-对齐中文"><a href="#2-对齐中文" class="headerlink" title="2. 对齐中文"></a>2. 对齐中文</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    span&#123;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      text-align: justify;</span><br><span class="line">      width: 5em;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      height: 20px;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">    &#125;</span><br><span class="line">    span::after&#123;</span><br><span class="line">      content: &apos;&apos;;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      width: 100%;</span><br><span class="line">      border: 1px solid blue;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;span&gt;姓名&lt;/span&gt; &lt;br&gt;</span><br><span class="line">  &lt;span&gt;联系方式&lt;/span&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h1 id="3-文字溢出变省略"><a href="#3-文字溢出变省略" class="headerlink" title="3. 文字溢出变省略"></a>3. 文字溢出变省略</h1><ol>
<li><p>显示一行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div&#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    只显示一行，超出一行的用省略号替代....</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>显示任意多少行（不兼容iE）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div&#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    display: -webkit-box;  //-webkit不兼容IE</span><br><span class="line">    -webkit-line-clamp: 1;  //只显示1行</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    文字文字文字....</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="4-文字绝对居中"><a href="#4-文字绝对居中" class="headerlink" title="4. 文字绝对居中"></a>4. 文字绝对居中</h1><p>不要给div加height，直接用padding当作高度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div&#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    /* 写line-height，不要写height */</span><br><span class="line">    line-height: 24px;  /* div高为line-height+2*padding */</span><br><span class="line">    padding: 8px 0;  /* 垂直居中 */</span><br><span class="line">    text-align: center;  /* 水平居中 */</span><br><span class="line">  &#125;  </span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    文字文字文字....</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="5-文档流"><a href="#5-文档流" class="headerlink" title="5. 文档流"></a>5. 文档流</h1><p><strong>1. div高度</strong><br>综1和4所述，div高度是由div内部文档流元素高度总和决定的，文档流中内联元素从左到右依次排列若空间不够则换行，文档流中块级元素从上到下依次排列</p>
<ol start="2">
<li>脱离文档流</li>
</ol>
<ul>
<li><code>float</code></li>
<li><code>position: absolute</code></li>
<li><code>position: fixed</code></li>
</ul>
<ol start="3">
<li>相对定位（relative）<br><code>position:relative</code>不会脱离文档流，给相对定位的元素设置top和left，会相对它之前在的位置变化，但它之前占的位置会一直占在那，不会脱离文档流</li>
</ol>
<h1 id="6-div绝对居中"><a href="#6-div绝对居中" class="headerlink" title="6. div绝对居中"></a>6. div绝对居中</h1><ol>
<li><p>parent没写height时</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .child&#123;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">      margin: 0 auto;  /* 水平居中 */</span><br><span class="line">      width: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">    .parent&#123;</span><br><span class="line">      border: 1px solid green;</span><br><span class="line">      padding: 100px 0;  /* 垂直居中 */</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">      asd asd </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>parent写了height（不兼容IE）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .child&#123;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">    &#125;</span><br><span class="line">    .parent&#123;</span><br><span class="line">      border: 1px solid green;</span><br><span class="line">      height: 100px;</span><br><span class="line">      display: flex;  /* 这三行搞定 */</span><br><span class="line">      justify-content: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">      asd asd </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="7-内联元素的宽高"><a href="#7-内联元素的宽高" class="headerlink" title="7. 内联元素的宽高"></a>7. 内联元素的宽高</h1><p>padding和margin只会影响内联元素的宽度，不影响高度。<br>内联元素的宽度由文字个数、padding、margin、border决定。<br>高度只由<code>line-height:5;</code>和<code>font-size</code>决定。<br><strong>块级元素高度由内部文档流决定</strong></p>
<h1 id="8-生成一个1-1的div（不写高度）"><a href="#8-生成一个1-1的div（不写高度）" class="headerlink" title="8. 生成一个1:1的div（不写高度）"></a>8. 生成一个1:1的div（不写高度）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    div&#123;</span><br><span class="line">      border: 1px solid green;</span><br><span class="line">      padding-top: 100%;  /* 这是高度，会随宽度变化自动变 */</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt; &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h1 id="9-层叠关系"><a href="#9-层叠关系" class="headerlink" title="9. 层叠关系"></a>9. 层叠关系</h1><p><img src="/images/层叠关系.png" alt="堆叠顺序"></p>
<h1 id="10-堆叠上下文"><a href="#10-堆叠上下文" class="headerlink" title="10. 堆叠上下文"></a>10. 堆叠上下文</h1><ul>
<li>根元素（HTML）</li>
<li>z-index值不为auto的 绝对/相对定位的元素就是堆叠上下文</li>
<li><code>position: fixed</code>也是堆叠上下文</li>
<li><code>opacity: 0.5</code>也是</li>
</ul>
<ol>
<li>堆叠上下文越后写的级别越高，级别高的堆叠上下文里的所有东西都可以压过级别底的里的所有东西。</li>
<li><strong>在父亲是堆叠上下文中的儿子元素即使是<code>z-index: -1;</code>，在层叠关系里也会在父亲的border和background之上，不会沉下去</strong></li>
</ol>
<h1 id="11-响应式（基本没人用了）"><a href="#11-响应式（基本没人用了）" class="headerlink" title="11. 响应式（基本没人用了）"></a>11. 响应式（基本没人用了）</h1><ol>
<li><p>媒体查询</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  /* 屏幕宽度为300px-325px时的css样式  */</span><br><span class="line">  @media(min-width: 300px) and (max-width: 325px)&#123;  </span><br><span class="line">    body&#123;</span><br><span class="line">     background: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /* 屏幕宽度小于450px时的css样式  */</span><br><span class="line">  @media(max-width: 450px)&#123;  </span><br><span class="line">    body&#123;</span><br><span class="line">     background: black;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  /* 这样前面那个就没用了，被覆盖了  */</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>一般不用第一个方法，直接引用一个手机版的css即可</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; media=&quot;(max-width:768px)&quot; href=&quot;mobile.css&quot;&gt;</span><br></pre></td></tr></table></figure>
<p> 在屏幕宽度小于768px时，就会渲染这个css，要把这个引用写在main.css之后，把main.css覆盖。<br>并加上<code>meta:vp</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="12-flex布局"><a href="#12-flex布局" class="headerlink" title="12. flex布局"></a>12. flex布局</h1><p><img src="https://upload-images.jianshu.io/upload_images/10444223-2c9cbe0f2b41f70b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="flex布局"></p>
<ol>
<li><p>container的属性</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">flex-direction: row;// （默认）所有内容排列在一行</span><br><span class="line">flex-direction: row-reverse; //反向排列在一行</span><br><span class="line">flex-direction: column; //所有内容排列在一列</span><br><span class="line">flex-direction: column-reverse; //反向</span><br><span class="line"></span><br><span class="line">flex-wrap: nowrap; //不换行（默认）</span><br><span class="line">flex-wrap: wrap; //自动换行</span><br><span class="line"></span><br><span class="line">flex-flow: row nowrap; //上面两个属性的简写</span><br><span class="line"></span><br><span class="line">//justify控制主轴</span><br><span class="line">justify-content: space-between; //这两个都是子元素在一行均匀分布</span><br><span class="line">justify-content: space-around;</span><br><span class="line">justify-content: flex-start; //子元素都往起点靠</span><br><span class="line">justify-content: flex-end; //子元素都往终点靠</span><br><span class="line">justify-content: center; //子元素居中</span><br><span class="line"></span><br><span class="line">//align控制子元素的侧轴</span><br><span class="line">align-items: stretch; //（默认）把同一行里的子元素的高度都伸展到同一行里最高那个元素</span><br><span class="line">align-items: center;  //垂直居中</span><br><span class="line">align-items: flex-start; //往侧轴的起点靠</span><br></pre></td></tr></table></figure>
</li>
<li><p>item的属性</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//flex-grow,当一行空间没占满的时候</span><br><span class="line">.child:nth-child(1)&#123;</span><br><span class="line">  flex-grow: 2;</span><br><span class="line">&#125;</span><br><span class="line">.child:nth-child(2)&#123;</span><br><span class="line">  flex-grow: 1;</span><br><span class="line">&#125;</span><br><span class="line">//在同一行内把这两个元素按2比1的比例占满这一行</span><br><span class="line"></span><br><span class="line">//这三个元素的简写，后两个很少用</span><br><span class="line">flex: flex-grow flex-shrink flex-basis;</span><br><span class="line"></span><br><span class="line">//order（实现双飞翼）</span><br><span class="line">.child:nth-child(1)&#123;</span><br><span class="line">  order: 2;  //改变排列顺序，这个放在第二个</span><br><span class="line">&#125;</span><br><span class="line">.child:nth-child(2)&#123;</span><br><span class="line">  order: 1;  //这个放在第一个</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//align-self</span><br><span class="line">.child:nth-child(1)&#123;</span><br><span class="line">  align-self: center; //第一个儿子在垂直方向居中</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="13-小技巧"><a href="#13-小技巧" class="headerlink" title="13. 小技巧"></a>13. 小技巧</h1><p>对<code>display:none</code>到<code>display:block</code>的过程<code>transition: all 1s;</code>没用，可以改成<code>visibility: hidden;</code>和<code>visibility: visible</code></p>
<h1 id="14-bootstrap"><a href="#14-bootstrap" class="headerlink" title="14. bootstrap"></a>14. bootstrap</h1><ol>
<li>安装<br><a href="http://v3.bootcss.com/getting-started/#download" target="_blank" rel="noopener">下载</a>css、js文件，js需要用jquery，所以要先引用jquery</li>
<li><p>栅格系统</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=container&gt;  //自动居中</span><br><span class="line">  &lt;div class=row&gt;  //一行分成12份</span><br><span class="line">    &lt;div class=col-md-1&gt;1&lt;/div&gt;  //这两个分别占1份和11份</span><br><span class="line">    &lt;div class=col-md-11&gt;11&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=row&gt;  //第二行</span><br><span class="line">    &lt;div class=&quot;col-md-9 col-md-offset-3&quot;&gt;9&lt;/div&gt;  //这样这个div会往右边对齐，因为第二个class代表往右偏3格</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=row&gt;  //第三行</span><br><span class="line">    &lt;div class=&quot;col-xs-6 col-md-1 col-sm-3&quot;&gt;6&lt;/div&gt;  </span><br><span class="line">    //在屏幕宽度很小的时候（手机）占6份</span><br><span class="line">    //中等（电脑）的时候占1份</span><br><span class="line">    //小（ipad）的时候占3份</span><br><span class="line">    //超大屏(col-lg-12)</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>秘诀<br>直接复制<a href="http://v3.bootcss.com/css/" target="_blank" rel="noopener">官网</a>的html代码，<a href="http://v3.bootcss.com/components/" target="_blank" rel="noopener">复杂css组件</a>，<a href="http://v3.bootcss.com/javascript/" target="_blank" rel="noopener">js组件</a>，<a href="http://v3.bootcss.com/customize/" target="_blank" rel="noopener">定制bootstrap</a>可以自己改样式、颜色</p>
</li>
<li><p>小技巧<br>靠右：不写<code>col-md-...</code>，直接写<code>pull-right</code></p>
</li>
<li><p>主题<br>下载的文件里有bootstrap.theme.css</p>
</li>
</ol>
<h1 id="15-IFC"><a href="#15-IFC" class="headerlink" title="15. IFC"></a>15. IFC</h1><ul>
<li><code>font-size</code>是刻字的时候的那个模版的大小</li>
<li><code>line-height</code>是字所占的行高，但不同字体排在一起行高可能会变了，因为每个字体基线位置不同。而在一排要用基线对齐</li>
<li><code>vertical-top</code>是元素实际占的高度的顶部对齐，所以img不写<code>vertical-top</code>的时候是以基线对齐的，下面会空出一点东西</li>
<li>不要用<code>inline-block</code>布局了，用<code>flex</code>或<code>float</code></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/07/let 相关面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/07/let 相关面试题/" itemprop="url">let相关面试题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-07T23:03:17+08:00">
                2018-09-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>经典面试题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for ( var i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer() &#123;</span><br><span class="line">		console.log( i );</span><br><span class="line">	&#125;, i*1000 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里因为 var会变量提升，所以实际上是下面这样子的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var i</span><br><span class="line">for ( i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer() &#123;</span><br><span class="line">		console.log( i );</span><br><span class="line">	&#125;, i*1000 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样一来循环一直都只有一个i，而setTimeout是个异步函数，所以会先所有会先把循环全部执行完毕，这时候 i 就是 5 了，而每次循环都会设置一个闹钟，闹钟执行时间分别是0s、1s、2s、3s、4s、5s，每一个闹钟的i都是最终的i，也就是i等于5，所以这题最终结果是输出5个5。</p>
<ul>
<li>解决办法有三种</li>
</ul>
<ol>
<li><p>使用闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">  (function(j) &#123;</span><br><span class="line">    setTimeout(function timer() &#123;</span><br><span class="line">      console.log(j);</span><br><span class="line">    &#125;, j * 1000);</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 setTimeout 的第三个参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for ( var i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer(j) &#123;</span><br><span class="line">		console.log( j );</span><br><span class="line">	&#125;, i*1000, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 let 定义 i </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for ( let i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer() &#123;</span><br><span class="line">		console.log( i );</span><br><span class="line">	&#125;, i*1000 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>以上三种方法都能解决因为var变量提升而引起的误解，所以最终结果都是0s输出0，1s输出1，2s输出2，3s输出3，4s输出4，5s输出5。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/05/canvas入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/05/canvas入门/" itemprop="url">canvas入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-05T20:44:48+08:00">
                2018-09-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//获取canvas标签</span><br><span class="line">var canvas = document.querySelector(&quot;#canvas&quot;);  </span><br><span class="line"></span><br><span class="line">//初始化</span><br><span class="line">var context = canvas.getContext(&apos;2d&apos;);  </span><br><span class="line"></span><br><span class="line">//画线</span><br><span class="line">function drawLine(x1,y1,x2,y2) &#123;</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.moveTo(x1-0,y1+29);  //起点</span><br><span class="line">    context.lineWidth = 5;  //线的粗细</span><br><span class="line">    context.lineTo(x2-0,y2+29);  //终点</span><br><span class="line">    context.stroke();  //将各个点练成线</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//画三角形</span><br><span class="line">function drawLine(x1,y1,x2,y2) &#123;</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.moveTo(x1,y1);  //起点</span><br><span class="line">    context.lineTo(x2,y2);  //第二个点</span><br><span class="line">    context.lineTo(x3,y3);  //第三个点</span><br><span class="line">    context.stroke();  //将各个点练成线</span><br><span class="line">    context.closePath();  //自动将第一个点和最后一个点连起来</span><br><span class="line">&#125;</span><br><span class="line">//画圆圈</span><br><span class="line">function drawTriangle(x,y,r) &#123;</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.arc(x-0,y+29,r,0,Math.PI*2);  //left，top，半径， 起点（以原点为圆心从第一象限的x轴开始往y轴负方向画圈），终点</span><br><span class="line">    context.fill();  //将圆圈填色</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">context.strokeStyle = &apos;black&apos;;  //线的颜色</span><br><span class="line">context.fillStyle = &apos;black&apos;;  //圆圈填充的颜色</span><br><span class="line">context.clearRect(x,y,30,30);  //橡皮擦功能</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><a href="https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_canvas_arc" target="_blank" rel="noopener">arc的参数自己试</a></p>
<ol start="2">
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function setCanvasSize() &#123;</span><br><span class="line">  //获取用户界面的宽高</span><br><span class="line">  var pageWidth = document.documentElement.clientWidth;</span><br><span class="line">  var pageHeight = document.documentElement.clientHeight;</span><br><span class="line">  //赋给画板</span><br><span class="line">  canvas.width = pageWidth;</span><br><span class="line">  canvas.height = pageHeight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//触屏设备</span><br><span class="line">canvas.ontouchstart = function(ev)&#123;</span><br><span class="line">  var x = ev.touches[0].clientX;  //获取点击的位置</span><br><span class="line">  var y = ev.touches[0].clientY;</span><br><span class="line">&#125;  //监听手指点击事件</span><br><span class="line">canvas.ontouchmove = function()&#123;&#125;  //监听手指移动事件</span><br><span class="line"></span><br><span class="line">//非触屏设备</span><br><span class="line">canvas.onmousedown = function(ev)&#123;&#125;</span><br><span class="line">canvas.onmousemove = function (ev) &#123;&#125;</span><br><span class="line">canvas.onmouseup = function () &#123;&#125;</span><br><span class="line">canvas.onmouseout = function () &#123;&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/02/什么是闭包-闭包的用途/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/02/什么是闭包-闭包的用途/" itemprop="url">闭包</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-02T21:37:09+08:00">
                2018-09-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><h2 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function 函数()&#123;</span><br><span class="line">    var 变量  = 1；</span><br><span class="line">    function 内部函数()&#123;</span><br><span class="line">        console.log(变量);</span><br><span class="line">    &#125;</span><br><span class="line">    return 内部函数;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的例子中</p>
<ul>
<li>内部函数 + 变量（内部函数能访问到这个变量） =  闭包</li>
<li>return  内部函数只是为了能使用到这个内部函数 ， 也就是能使用闭包</li>
<li>函数套函数是为了隐藏一个变量 或者说这就是闭包的作用</li>
</ul>
<h2 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function create()</span><br><span class="line">&#123;</span><br><span class="line">  var n=999;</span><br><span class="line">  return &#123;</span><br><span class="line">    set : function(aaa)&#123;</span><br><span class="line">        n = aaa;</span><br><span class="line">    &#125;,</span><br><span class="line">    get : function()&#123;</span><br><span class="line">        return n;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = create();</span><br><span class="line">var b = create();</span><br><span class="line">a.set(2);</span><br><span class="line">console.log(a.get());</span><br><span class="line">console.log(b.get());</span><br></pre></td></tr></table></figure>
<ul>
<li>闭包的作用就是间接的访问一个变量 ，隐藏一个变量</li>
<li>去掉那个外层函数  变量就会很容易被直接使用并且修改</li>
<li>n 是一个局部变量 ，在函数外面是使用不到这个变量的</li>
<li>这时候get 和 set  函数就是 用来间接访问这个变量的访问器</li>
<li>闭包和变量的作用域有关</li>
</ul>
<p>在我们写js代码的时候会很容易就出现闭包， 而不是我们经常有意的去创造闭包<br>引用维基百科：闭包（Closure）是词法闭包（Lexical Closure）的简称，是引用了自由变量的函数。这个被引用的自由变量将和这个函数一同存在，即使已经离开了创造它的环境也不例外。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/31/cookie、session、localStorage入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/31/cookie、session、localStorage入门/" itemprop="url">cookie、 session、localStorage入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-31T00:37:08+08:00">
                2018-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-cookie和session的区别"><a href="#1-cookie和session的区别" class="headerlink" title="1. cookie和session的区别"></a>1. cookie和session的区别</h1><ul>
<li>一般来说，Session 基于 Cookie 来实现。<h3 id="1-cookie"><a href="#1-cookie" class="headerlink" title="1. cookie"></a>1. cookie</h3></li>
</ul>
<ol>
<li>服务器通过 Set-Cookie 头给客户端一串字符串</li>
<li>客户端每次访问相同域名的网页时，必须带上这段字符串</li>
<li>客户端要在一段时间内保存这个Cookie</li>
<li>Cookie 默认在用户关闭页面后就失效，后台代码可以任意设置 Cookie 的过期时间</li>
<li>大小大概在 4kb 以内<h3 id="2-session"><a href="#2-session" class="headerlink" title="2. session"></a>2. session</h3></li>
<li>将 SessionID（随机数）通过 Cookie 发给客户端</li>
<li>客户端访问服务器时，服务器读取 SessionID</li>
<li>服务器有一块内存（哈希表）保存了所有 session</li>
<li>通过 SessionID 我们可以得到对应用户的隐私信息，如 id、email</li>
<li>这块内存（哈希表）就是服务器上的所有 session<h1 id="2-localStorage"><a href="#2-localStorage" class="headerlink" title="2. localStorage"></a>2. localStorage</h1></li>
<li>LocalStorage 跟 HTTP 无关</li>
<li>HTTP 不会带上 LocalStorage 的值</li>
<li>只有相同域名的页面才能互相读取 LocalStorage（没有同源那么严格）</li>
<li>每个域名 localStorage 最大存储量为 5Mb 左右（每个浏览器不一样）</li>
<li>常用场景：记录有没有提示过用户（没有用的信息，不能记录密码）</li>
<li>LocalStorage 永久有效，除非用户清理缓存<h1 id="3-SessionStorage（会话存储）"><a href="#3-SessionStorage（会话存储）" class="headerlink" title="3. SessionStorage（会话存储）"></a>3. SessionStorage（会话存储）</h1></li>
</ol>
<ul>
<li>1、2、3、4 同上</li>
</ul>
<ol start="5">
<li>SessionStorage 在用户关闭页面（会话结束）后就失效。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/28/自己封装AJAX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/28/自己封装AJAX/" itemprop="url">自己封装AJAX</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-28T23:35:30+08:00">
                2018-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>用原生 JS 写出一个 AJAX 请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let request = new XMLHttpRequest()</span><br><span class="line">request.open(&apos;get&apos;, &apos;/xxx&apos;) // 配置request</span><br><span class="line">request.send()</span><br><span class="line">request.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">  if(request.readyState === 4)&#123; </span><br><span class="line">    if(request.status &gt;= 200 &amp;&amp; request.status &lt; 300)&#123;</span><br><span class="line">      console.log(&apos;说明请求成功&apos;)</span><br><span class="line">    &#125;else if(request.status &gt;= 400)&#123;</span><br><span class="line">      console.log(&apos;说明请求失败&apos;) </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>自己封装一个封装一个 jQuery.ajax</p>
</li>
</ol>
<p>jQuery.ajax(url,method,body,success, fail)</p>
<p>满足这种 API。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">  let nodes = &#123;&#125;</span><br><span class="line">  nodes.addClass = function()&#123;&#125;</span><br><span class="line">  nodes.html = function()&#123;&#125;</span><br><span class="line">  return nodes</span><br><span class="line">&#125;</span><br><span class="line">window.$ = window.jQuery</span><br><span class="line"></span><br><span class="line">window.jQuery.ajax = function(&#123;url, method, body, successFn, failFn, headers&#125;)&#123;</span><br><span class="line">  let request = new XMLHttpRequest()</span><br><span class="line">  request.open(method, url) // 配置request</span><br><span class="line">  for(let key in headers) &#123;</span><br><span class="line">    let value = headers[key]</span><br><span class="line">    request.setRequestHeader(key, value)</span><br><span class="line">  &#125;</span><br><span class="line">  request.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">    if(request.readyState === 4)&#123;</span><br><span class="line">      if(request.status &gt;= 200 &amp;&amp; request.status &lt; 300)&#123;</span><br><span class="line">        successFn.call(undefined, request.responseText)</span><br><span class="line">      &#125;else if(request.status &gt;= 400)&#123;</span><br><span class="line">        failFn.call(undefined, request)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  request.send(body)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function f1(responseText)&#123;&#125;</span><br><span class="line">function f2(responseText)&#123;&#125;</span><br><span class="line"></span><br><span class="line">myButton.addEventListener(&apos;click&apos;, (e)=&gt;&#123;</span><br><span class="line">  window.jQuery.ajax(&#123;</span><br><span class="line">    url: &apos;/frank&apos;,</span><br><span class="line">    method: &apos;get&apos;,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &apos;content-type&apos;:&apos;application/x-www-form-urlencoded&apos;,</span><br><span class="line">      &apos;frank&apos;: &apos;18&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    successFn: (x)=&gt;&#123;</span><br><span class="line">      f1.call(undefined,x)</span><br><span class="line">      f2.call(undefined,x)</span><br><span class="line">    &#125;,</span><br><span class="line">    failFn: (x)=&gt;&#123;</span><br><span class="line">      console.log(x)</span><br><span class="line">      console.log(x.status)</span><br><span class="line">      console.log(x.responseText)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li>升级刚刚的 jQuery.ajax 满足 Promise 规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">  let nodes = &#123;&#125;</span><br><span class="line">  nodes.addClass = function()&#123;&#125;</span><br><span class="line">  nodes.html = function()&#123;&#125;</span><br><span class="line">  return nodes</span><br><span class="line">&#125;</span><br><span class="line">window.$ = window.jQuery</span><br><span class="line"></span><br><span class="line">window.Promise = function(fn)&#123;</span><br><span class="line">  // ...</span><br><span class="line">  return &#123;</span><br><span class="line">    then: function()&#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.jQuery.ajax = function(&#123;url, method, body, headers&#125;)&#123;</span><br><span class="line">  return new Promise(function(resolve, reject)&#123;</span><br><span class="line">    let request = new XMLHttpRequest()</span><br><span class="line">    request.open(method, url) // 配置request</span><br><span class="line">    for(let key in headers) &#123;</span><br><span class="line">      let value = headers[key]</span><br><span class="line">      request.setRequestHeader(key, value)</span><br><span class="line">    &#125;</span><br><span class="line">    request.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">      if(request.readyState === 4)&#123;</span><br><span class="line">        if(request.status &gt;= 200 &amp;&amp; request.status &lt; 300)&#123;</span><br><span class="line">          resolve.call(undefined, request.responseText)</span><br><span class="line">        &#125;else if(request.status &gt;= 400)&#123;</span><br><span class="line">          reject.call(undefined, request)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    request.send(body)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myButton.addEventListener(&apos;click&apos;, (e)=&gt;&#123;</span><br><span class="line">  let promise = window.jQuery.ajax(&#123;</span><br><span class="line">    url: &apos;/xxx&apos;,</span><br><span class="line">    method: &apos;get&apos;,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &apos;content-type&apos;:&apos;application/x-www-form-urlencoded&apos;,</span><br><span class="line">      &apos;frank&apos;: &apos;18&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  promise.then(</span><br><span class="line">    (text)=&gt;&#123;console.log(text)&#125;,</span><br><span class="line">    (request)=&gt;&#123;console.log(request)&#125;</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/25/DOM面试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/25/DOM面试/" itemprop="url">DOM面试</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-25T23:50:25+08:00">
                2018-08-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-DOM事件模型"><a href="#1-DOM事件模型" class="headerlink" title="1. DOM事件模型"></a>1. <a href="https://www.jianshu.com/p/7054b1abb431" target="_blank" rel="noopener">DOM事件模型</a></h1><ol>
<li>冒泡</li>
<li>捕获</li>
<li><a href="http://jsbin.com/raqakog/1/edit?js,console,output" target="_blank" rel="noopener">如果这个元素是被点击元素，那么执行顺序由监听顺序决定</a></li>
</ol>
<h1 id="2-移动端的触摸事件"><a href="#2-移动端的触摸事件" class="headerlink" title="2. 移动端的触摸事件"></a>2. 移动端的触摸事件</h1><ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//说明触摸开始</span><br><span class="line">document.body.ontouchstart !== undefined</span><br><span class="line">//触摸开始移动</span><br><span class="line">canvas.ontouchmove = function (ev) &#123;</span><br><span class="line">  var x = ev.touches[0].clientX;  //触摸的x坐标</span><br><span class="line">  var y = ev.touches[0].clientY;</span><br><span class="line">&#125;</span><br><span class="line">ontouchend  //触摸结束</span><br><span class="line">ontouchcancel  //触摸取消，因为有的浏览器不会触发touchend事件</span><br></pre></td></tr></table></figure>
</li>
<li><p>模拟swipe事件（滑动）<br>记录两次touchmove的位置差，若后一次在前一次的右边，说明向右滑了</p>
</li>
</ol>
<h1 id="3-事件委托"><a href="#3-事件委托" class="headerlink" title="3. 事件委托"></a>3. 事件委托</h1><ol>
<li>监听父元素，看被触发的是哪个儿子，就是事件委托，委托父亲监听儿子</li>
<li>优点是可以监听动态生成的儿子，减少了事件处理程序的数量，整个页面占用的内存空间会更少。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function listen(element,eventType,selector,fn)&#123;</span><br><span class="line">  element.addEventListener(eventType,(e)=&gt;&#123;</span><br><span class="line">    let el = e.target</span><br><span class="line">    while(!el.matches(selector))&#123;  //可能点击的是li里的span  </span><br><span class="line">      if(element === el)&#123;  //如果点击的是父元素，则跳出监听</span><br><span class="line">        el =null</span><br><span class="line">        break</span><br><span class="line">      &#125;</span><br><span class="line">      el = el.parentNode</span><br><span class="line">    &#125;</span><br><span class="line">    el&amp;&amp;fn.call(el,e,el)</span><br><span class="line">  &#125;)</span><br><span class="line">  return element</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//&lt;ul id=&quot;list&quot;&gt;</span><br><span class="line">//  &lt;li&gt;&lt;/li&gt;</span><br><span class="line">//  ...</span><br><span class="line">//&lt;/ul&gt;</span><br><span class="line">//let list=document.querySelector(&apos;#list&apos;)</span><br><span class="line">//listen(list,&apos;click&apos;,&apos;li&apos;,()=&gt;&#123;&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/25/DOM事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/25/DOM事件/" itemprop="url">DOM事件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-25T14:38:54+08:00">
                2018-08-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-DOM0时代html和js的那些事儿"><a href="#1-DOM0时代html和js的那些事儿" class="headerlink" title="1. DOM0时代html和js的那些事儿"></a>1. DOM0时代html和js的那些事儿</h1><p>&lt;html><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function print() &#123;</span><br><span class="line">            console.log(&apos;hi&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button id=&quot;x&quot; onclick=&quot;print&quot;&gt;a&lt;/button&gt;  //html里的onclick相当于eval(&apos;print&apos;) ，这样只会打印出print这个函数</span><br><span class="line">  &lt;button id=&quot;y&quot; onclick=&quot;print()&quot;&gt;b&lt;/button&gt;  //&apos;hi&apos;</span><br><span class="line">  &lt;button id=&quot;z&quot; onclick=&quot;print.call()&quot;&gt;c&lt;/button&gt;  //&apos;hi&apos;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p>
<p>&lt;js><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x.onclick = print;  //js里这样是执行函数，输出&apos;hi&apos;</span><br><span class="line">x.onclick = print();  //这样写是得到函数的返回值，undefined</span><br><span class="line">x.onclick = print.call();  //同上，undefined</span><br></pre></td></tr></table></figure></p>
<h1 id="2-DOM2"><a href="#2-DOM2" class="headerlink" title="2. DOM2"></a>2. DOM2</h1><h3 id="1-监听事件"><a href="#1-监听事件" class="headerlink" title="1. 监听事件"></a>1. 监听事件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xxx.onclick = function()&#123;&#125;;  //不要用这个，因为可能会覆盖掉别人的事件</span><br><span class="line">//用下面这个</span><br><span class="line"></span><br><span class="line">function f1()&#123;&#125;</span><br><span class="line"></span><br><span class="line">xxx.addEventListener(&apos;click&apos;,f1)    //EventListener是队列，先绑定的就先触发</span><br><span class="line">xxx.removeEventListener(&apos;click&apos;,f1);</span><br></pre></td></tr></table></figure>
<p>若想让事件被点一次后就取消监听，可以将f1写成下面这样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line">  console.log(1);</span><br><span class="line">  xxx.removeEventListener(&apos;click&apos;,f1);  //这样f1执行一次后就自动取消xxx的监听，</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xxx.addEventListener(&apos;click&apos;,f1)</span><br></pre></td></tr></table></figure></p>
<p>这就是$btn.one(‘click’,fn);</p>
<h3 id="2-嵌套的div被点击的顺序"><a href="#2-嵌套的div被点击的顺序" class="headerlink" title="2. 嵌套的div被点击的顺序"></a>2. 嵌套的div被点击的顺序</h3><p><img src="/images/HTML.png" alt="HTML"><img src="/images/JavaScript.png" alt="JavaScript"></p>
<ul>
<li><strong>面试题1:</strong>请问点击儿子的div，这三个函数的执行顺序是什么？<br><img src="/images/内部执行顺序.png" alt="内部执行顺序"><br>默认的顺序是像右边的箭头序列，先最里面的儿子再爸爸再爷爷，但如果给addEventListener加个true的话，事件就会到左边来，如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grand1.addEventListener(&apos;click&apos;,function fn1()&#123;</span><br><span class="line">    console.log(&apos;爷爷&apos;)</span><br><span class="line">&#125;,true)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/images/true.png" alt="addEventListener(true)"><br>这样执行顺序就是爷爷 -&gt; 儿子 -&gt; 爸爸。<br>左边的（加true的顺序），叫做捕获阶段，右边叫冒泡阶段。</p>
<ul>
<li><p><strong>面试题2：若给同一个div加上true和false呢？</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">child1.addEventListener(&apos;click&apos;,function fn1()&#123;</span><br><span class="line">    console.log(&apos;儿子冒泡&apos;)</span><br><span class="line">&#125;,false)</span><br><span class="line">child1.addEventListener(&apos;click&apos;,function fn1()&#123;</span><br><span class="line">    console.log(&apos;儿子捕获&apos;)</span><br><span class="line">&#125;,true)</span><br><span class="line">//点击child出现&apos;儿子捕获&apos;,&apos;儿子冒泡&apos;</span><br><span class="line">//若是给被点击的本身加上true和false，则按事件添加的顺序执行</span><br><span class="line">//若给爸爸或是爷爷添加true和false，则是按上图箭头顺序执行</span><br></pre></td></tr></table></figure>
</li>
<li><p>stopPropagation()<br>这个方法可以让它那一层停止往上传播</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">child1.addEventListener(&apos;click&apos;,function fn1(e)&#123;</span><br><span class="line">    e.stopPropagation();</span><br><span class="line">&#125;)  //这样点击儿子，就只会执行儿子，不会执行爸爸和爷爷</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-点击别处关闭浮层"><a href="#3-点击别处关闭浮层" class="headerlink" title="3. 点击别处关闭浮层"></a>3. 点击别处关闭浮层</h3><p>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;wraper&quot; class=&quot;wraper&quot;&gt;</span><br><span class="line">    &lt;button id=&quot;clickMe&quot;&gt;点我&lt;/button&gt;</span><br><span class="line">    &lt;div id=&quot;popover&quot; class=&quot;popover&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot;&gt;浮层</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>错误示范1，js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,false);  </span><br><span class="line">//这里有错误，浮层出来后无法点击checkbox，因为这里的false，阻止了所有默认事件，应该改成下面那样</span><br><span class="line">$(document).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).hide();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>更新版1，还是不完美<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,function(e)&#123;</span><br><span class="line">    e.stopPropagation();    //阻止冒泡</span><br><span class="line">&#125;);</span><br><span class="line">$(document).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).hide();   </span><br><span class="line">&#125;);    //这样若有多个浮层，则会监听多次document，浪费资源，可以改成下面的</span><br></pre></td></tr></table></figure></p>
<p>错误示范2，js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">    $(document).one(&apos;click&apos;,function () &#123;  //改为one</span><br><span class="line">      $(popover).hide();   </span><br><span class="line">    &#125;);  </span><br><span class="line">&#125;);    //若没有阻止冒泡，浮层不会显示出来，因为hide也会执行</span><br><span class="line"></span><br><span class="line">//可以添加一个setTimeout使它不会马上执行，如下</span><br><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">    setTimeout(function()&#123;</span><br><span class="line">      $(document).one(&apos;click&apos;,function () &#123;  </span><br><span class="line">        $(popover).hide();   </span><br><span class="line">      &#125;);  </span><br><span class="line">    &#125;,0)    //添加setTimeout后，document.onclick不会马上执行，当下一次点击屏幕的时候才会执行</span><br><span class="line">//这样还是有bug，点击popover内部也会执行hide()</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>完美版本1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">    $(document).one(&apos;click&apos;,function () &#123; </span><br><span class="line">        $(popover).hide();   </span><br><span class="line">    &#125;);  //只在浮层show的时候监听document一次</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,function(e)&#123;</span><br><span class="line">    e.stopPropagation();  //阻止冒泡，这样点击popover内部就不会执行document.onclick，但这个事件还是会存放在那里</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>完美版本2<br>更新上个版本点按钮不会关闭浮层的bug<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    if($(popover).is(&apos;:hidden&apos;))&#123;  //若浮层是关闭的，点击按钮则打开</span><br><span class="line">        $(popover).show();</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        $(popover).hide();  //和上面相反</span><br><span class="line">    &#125;</span><br><span class="line">    $(document).one(&apos;click&apos;,function () &#123;</span><br><span class="line">        $(popover).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,function(e)&#123;</span><br><span class="line">    e.stopPropagation();  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/22/理解jQuery的实现过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/22/理解jQuery的实现过程/" itemprop="url">理解jQuery的实现过程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-22T15:22:16+08:00">
                2018-08-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="自己封装jQuery函数的一个例子"><a href="#自己封装jQuery函数的一个例子" class="headerlink" title="自己封装jQuery函数的一个例子"></a>自己封装jQuery函数的一个例子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = ???</span><br><span class="line">window.$ = jQuery</span><br><span class="line"></span><br><span class="line">var $div = $(&apos;div&apos;)</span><br><span class="line">$div.addClass(&apos;red&apos;) // 可将所有 div 的 class 添加一个 red</span><br><span class="line">$div.setText(&apos;hi&apos;) // 可将所有 div 的 textContent 变为 hi</span><br><span class="line"></span><br><span class="line"> &lt;-*************-&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">window.jQuery = function (x) &#123;</span><br><span class="line">            let nodes = &#123;&#125;                                  //选出div并转为伪数组</span><br><span class="line">            let temp = document.querySelectorAll(x)</span><br><span class="line">            for (let i = 0; i &lt; temp.length; i++) &#123;</span><br><span class="line">                nodes[i] = temp[i]</span><br><span class="line">                nodes.length = temp.length</span><br><span class="line">            &#125;                                </span><br><span class="line"></span><br><span class="line">            nodes.addClass = function (y) &#123;                //函数实现遍历div加上class的功能</span><br><span class="line">                for (let i = 0; i &lt; nodes.length; i++) &#123;</span><br><span class="line">                    nodes[i].classList.add(y)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;                              </span><br><span class="line"></span><br><span class="line">            nodes.setText = function (text) &#123;              //函数实现遍历div加上innerText的功能</span><br><span class="line">                for (let i = 0; i &lt; nodes.length; i++) &#123;</span><br><span class="line">                    nodes[i].innerText = text</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return nodes</span><br><span class="line">        &#125;</span><br><span class="line"> window.$ = jQuery</span><br><span class="line"> var $div = $(&apos;div&apos;)</span><br><span class="line"> $div.addClass(&apos;red&apos;)</span><br><span class="line"> $div.setText(&apos;hi&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="代码实现过程"><a href="#代码实现过程" class="headerlink" title="代码实现过程"></a>代码实现过程</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)</span><br></pre></td></tr></table></figure>
<ul>
<li>一般我们的得到的元素都是一个dom对象，而这个对象最终继承的就是Node接口</li>
<li>所以可以在 Node.prototype 上添加以上 addClass 及setText 方法</li>
<li>但是Node.prototype 是一个共有对象，每个人写的程序都不一样， 如果大家都在这里面操作添加删除API , 就会出现各种问题</li>
<li>所以我们可以取一个我们自己喜欢的名字来当作我们简便操作dom树，这个构造函数就不会被别人乱修改啦，而jQuery的作者就取名叫jQuery的</li>
<li><p>为了更懒更简便的操作，所以让$ = jQuery</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let nodes = &#123;&#125;</span><br><span class="line">  if (typeof nodeOrSelector === &apos;string&apos;) &#123;</span><br><span class="line">    let tmp = document.querySelectorAll(nodeOrSelector);</span><br><span class="line">    for(var i =0; i &lt; tmp.length; i++)&#123;</span><br><span class="line">      nodes[i] = tmp[i];</span><br><span class="line">    &#125;</span><br><span class="line">    nodes.length = i;</span><br><span class="line">  &#125; else if (nodeOrSelector instanceof Node) &#123;</span><br><span class="line">    nodes = &#123;</span><br><span class="line">      0: nodeOrSelector,</span><br><span class="line">      length: 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>因为jQuery 传入的有可能是字符串形式的选择器 或者 节点元素，所以 这段代码实现的功能是</p>
</li>
<li>先创建一个对象</li>
</ul>
<ul>
<li>判断传入的参数是字符串还是dom对象</li>
<li>如果是字符串就document.querySelectorAll匹配所有符合的选择器的元素，然后改成jQuery形式的对象，也就是我们开始创建的对象，不能直接复制给这个对象，因为匹配得到的对象是NodeList对象，是dom类型对象</li>
<li>如果是节点元素就直接添加进第一项就好了</li>
<li><p>因为jQuery ,$div[0] === div</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">nodes.addClass = function(classs) &#123;</span><br><span class="line">    for (let i = 0; i &lt; nodes.length; i++) &#123;</span><br><span class="line">      nodes[i].classList.add(classs);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  nodes.setText = function(text)&#123;</span><br><span class="line">    for (let i = 0; i &lt; nodes.length; i++) &#123;</span><br><span class="line">        nodes[i].textContent = text;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return nodes;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后就是给这个要返回的对象添加API啦</p>
</li>
<li>真正的jQuery的API都是封装在jQuery.prototype中，所有的jQuery对象都共用这些API</li>
<li><p>这里的nodes就与两个方法之间产生了闭包， 保护了nodes的私有化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">window.$ = jQuery</span><br><span class="line"></span><br><span class="line">var $div = $(&apos;div&apos;)</span><br><span class="line">$div.addClass(&apos;red&apos;) // 可将所有 div 的 class 添加一个 red</span><br><span class="line">$div.setText(&apos;222&apos;) // 可将所有 div 的 textContent 变为 hi</span><br></pre></td></tr></table></figure>
</li>
<li><p>为了更方便的操作 用<code>$</code>代替jQuery ，<code>var $div = $(&#39;div&#39;)</code> 可以 <code>var $div = jQuery(&#39;div&#39;)</code> 也是一样的</p>
</li>
<li>构造函数返回的对象就包含了两个方法， 我们就可以直接调用啦。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/21/页面从输入 URL 到页面加载显示完成的过程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/21/页面从输入 URL 到页面加载显示完成的过程/" itemprop="url">页面从输入 URL 到页面加载显示完成的过程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-21T10:29:48+08:00">
                2018-08-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-浏览器查找域名对应的-IP-地址："><a href="#1-浏览器查找域名对应的-IP-地址：" class="headerlink" title="1. 浏览器查找域名对应的 IP 地址："></a>1. 浏览器查找域名对应的 IP 地址：</h1><p>通过DNS查询到相应的IP地址，相当于你的路由问电信公司，于是电信公司返回对应的IP地址。<br><strong>补充说明：</strong></p>
<ul>
<li>你若修改了hosts文件，可自己指定域名的IP，绕过DNS。</li>
<li>URL和域名是两个概念：例如，xiedaimala.com是这个网站的域名，根据这个域名找到写代码啦的服务器，xiedaimala.com/courses 是URL，根据这个URL定位到写代码啦的课程表。</li>
<li>IP 地址与域名不是一一对应的关系：可以把多个提供相同服务的服务器 IP 设置为同一个域名，但在同一时刻一个域名只能解析出一个 IP地址；同时，一个 IP 地址可以绑定多个域名，数量不限；</li>
</ul>
<h1 id="2-浏览器和服务器建立连接——三次握手（采用TCP协议）"><a href="#2-浏览器和服务器建立连接——三次握手（采用TCP协议）" class="headerlink" title="2. 浏览器和服务器建立连接——三次握手（采用TCP协议）"></a>2. 浏览器和服务器建立连接——三次握手（采用TCP协议）</h1><ul>
<li>浏览器说：服务器我要连接你了，可以吗</li>
<li>服务器说：好的，连接吧</li>
<li>浏览器说：好的，那我连接了<br>连接成功！</li>
</ul>
<h1 id="3-网页的请求与显示"><a href="#3-网页的请求与显示" class="headerlink" title="3. 网页的请求与显示"></a>3. 网页的请求与显示</h1><ol>
<li>浏览器向服务器发送请求的第一部分</li>
<li>浏览器向服务器发送请求头（第二部分），若是post请求还会发送请求体（第四部分）</li>
<li>服务器应答，发送响应的第一部分</li>
<li>服务器发送响应的响应头信息</li>
<li>服务器发送以Content-type描述的格式的数据</li>
<li>在浏览器还没有完全接收 HTML 文件时便开始渲染、显示网页</li>
<li>在执行 HTML 中代码时，根据需要，浏览器会继续请求图片、CSS、JavsScript等文件，过程同请求 HTML </li>
</ol>
<h1 id="4-断开连接——四次握手"><a href="#4-断开连接——四次握手" class="headerlink" title="4. 断开连接——四次握手"></a>4. 断开连接——四次握手</h1><ul>
<li><p>主机向服务器发送一个断开连接的请求（不早了，我该走了）；</p>
</li>
<li><p>服务器接到请求后发送确认收到请求的信号（知道了）；</p>
</li>
<li><p>服务器向主机发送断开通知（我也该走了）；</p>
</li>
<li><p>主机接到断开通知后断开连接并反馈一个确认信号（嗯，好的），服务器收到确认信号后断开连接；</p>
</li>
</ul>
<p><strong>补充说明：</strong></p>
<ul>
<li>为什么服务器在接到断开请求时不立即同意断开：当服务器收到断开连接的请求时，可能仍然有数据未发送完毕，所以服务器先发送确认信号，等所有数据发送完毕后再同意断开。</li>
<li>第四次握手后，主机发送确认信号后并没有立即断开连接，而是等待了 2 个报文传送周期，原因是：如果第四次握手的确认信息丢失，服务器将会重新发送第三次握手的断开连接的信号，而服务器发觉丢包与重新发送的断开连接到达主机的时间正好为 2 个报文传输周期。</li>
</ul>
<p>未完待续…</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">梁光静</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">梁光静</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
