<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="梁光静">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="梁光静">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="梁光静">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>梁光静</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">梁光静</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/23/自己实现数组常用API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/23/自己实现数组常用API/" itemprop="url">自己实现数组常用API</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-23T11:30:34+08:00">
                2019-03-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-join"><a href="#1-join" class="headerlink" title="1. join"></a>1. join</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.join = function(char)&#123;</span><br><span class="line">  let result = this[0] || &apos;&apos;</span><br><span class="line">  let length = this.length</span><br><span class="line">  for(let i=1; i&lt; length; i++)&#123;</span><br><span class="line">      result += char + this[i]</span><br><span class="line">  &#125;</span><br><span class="line">  return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-slice"><a href="#2-slice" class="headerlink" title="2. slice"></a>2. slice</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.slice = function(begin, end)&#123;</span><br><span class="line">    let result = []</span><br><span class="line">    begin = begin || 0</span><br><span class="line">    end = end || this.length</span><br><span class="line">    for(let i = begin; i&lt; end; i++)&#123;</span><br><span class="line">        result.push(this[i])</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因此可以用 slice 来将伪数组，转化成数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array = Array.prototye.slice.call(arrayLike)</span><br><span class="line">或者</span><br><span class="line">array = [].slice.call(arrayLike)</span><br></pre></td></tr></table></figure></p>
<p>但是没必要，因为ES6有更好的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array = Array.from(arrayLike)</span><br></pre></td></tr></table></figure></p>
<p>P.S. 伪数组与真数组的区别就是：伪数组的原型链中没有 Array.prototype，而真数组的原型链中有 Array.prototype。因此伪数组没有 pop、join 等属性。</p>
<h4 id="3-sort"><a href="#3-sort" class="headerlink" title="3. sort"></a>3. sort</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.sort = function(fn)&#123;</span><br><span class="line">    fn = fn || (a,b)=&gt; a-b</span><br><span class="line">    let roundCount = this.length - 1 // 比较的轮数</span><br><span class="line">    for(let i = 0; i &lt; roundCount; i++)&#123;</span><br><span class="line">        let minIndex = this[i]</span><br><span class="line">        for(let k = i+1; k &lt; this.length; k++)&#123;</span><br><span class="line">            if( fn.call(null, this[k],this[i]) &lt; 0 )&#123;</span><br><span class="line">                [ this[i], this[k] ] = [ this[k], this[i] ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-forEach"><a href="#4-forEach" class="headerlink" title="4. forEach"></a>4. forEach</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.forEach = function(fn)&#123;</span><br><span class="line">    for(let i=0;i&lt;this.length; i++)&#123;</span><br><span class="line">        if(i in this)&#123;</span><br><span class="line">            fn.call(undefined, this[i], i, this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>forEach 和 for 的区别主要有两个：</p>
<ul>
<li>1.forEach 没法 break</li>
<li>2.forEach 用到了函数，所以每次迭代都会有一个新的函数作用域；而 for 循环只有一个作用域（著名前端面试题就是考察了这个）<h4 id="5-map"><a href="#5-map" class="headerlink" title="5. map"></a>5. map</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.map = function(fn)&#123;</span><br><span class="line">    let result = []</span><br><span class="line">    for(let i=0;i&lt;this.length; i++)&#123;</span><br><span class="line">        if(i in this) &#123;</span><br><span class="line">            result[i] = fn.call(undefined, this[i], i, this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>map和forEach的区别就是map有返回值而forEach没有</p>
<h4 id="6-filter"><a href="#6-filter" class="headerlink" title="6. filter"></a>6. filter</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.filter = function(fn)&#123;</span><br><span class="line">    let result = []</span><br><span class="line">    let temp</span><br><span class="line">    for(let i=0;i&lt;this.length; i++)&#123;</span><br><span class="line">        if(i in this) &#123;</span><br><span class="line">            if(temp = fn.call(undefined, this[i], i, this) )&#123;  // fn.call() 返回真值就 push 到返回值，没返回真值就不 push。</span><br><span class="line">                result.push(this[i])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-reduce"><a href="#7-reduce" class="headerlink" title="7. reduce"></a>7. reduce</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.reduce = function(fn, init)&#123;</span><br><span class="line">    let result = init</span><br><span class="line">    for(let i=0;i&lt;this.length; i++)&#123;</span><br><span class="line">        if(i in this) &#123;</span><br><span class="line">            result = fn.call(undefined, result, this[i], i, this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><ol>
<li>reduce 实现 map<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">array2 = array.map( (v) =&gt; v+1 )</span><br><span class="line">可以写成 </span><br><span class="line">array2 = array.reduce( (result, v)=&gt; &#123;</span><br><span class="line">    result.push(v + 1)</span><br><span class="line">    return result</span><br><span class="line">&#125;, [ ] )</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol start="2">
<li>reduce 实现 filter<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">array2 = array.filter( (v) =&gt; v % 2 === 0 )</span><br><span class="line">可以写成</span><br><span class="line">array2 = array.reduce( (result, v)=&gt; &#123;</span><br><span class="line">    if(v % 2 === 0)&#123; result.push(v) &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/07/JS实现各种选择算法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/07/JS实现各种选择算法/" itemprop="url">JavaScript实现各种选择算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-07T20:34:15+08:00">
                2019-03-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-线性搜索-顺序搜索"><a href="#1-线性搜索-顺序搜索" class="headerlink" title="1.线性搜索(顺序搜索)"></a>1.线性搜索(顺序搜索)</h4><p>假设一个数组中有n个元素，最好的情况就是要寻找的特定值就是数组里的第一个元素，这样仅需要1次比较就可以。而最坏的情况是要寻找的特定值不在这个数组或者是数组里的最后一个元素，这就需要进行n次比较。</p>
<ul>
<li>实现方式<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function linearSearch(arr, value) &#123;</span><br><span class="line">  for(let i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">    if(arr[i] === value) &#123;</span><br><span class="line">      return i</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return -1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let arr = [9, 1, -3, 4, 2, 7]</span><br><span class="line">let index = linearSearch(arr, 2)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="线性搜索优化"><a href="#线性搜索优化" class="headerlink" title="线性搜索优化"></a>线性搜索优化</h5><p>现实中很多查找遵循2-8原则，查找也类似。即我们80%的场景下查找的其实只是全部数据种20%的数据。根据这个原则，我们在每次查找时把找到的元素向前移动一位，这样经过多次查找后，最常查询的数据会移动到最前面，顺序查找时更容易找到。</p>
<ul>
<li>实现方式<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function linearSearch(arr, value) &#123;</span><br><span class="line">  for(let i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">    if(arr[i] === value) &#123;</span><br><span class="line">      if(i &gt; 0 ) &#123;</span><br><span class="line">        [arr[i-1], arr[i]] = [arr[i], arr[i-1]]  //让第 i 项和第 i-1 项交换位置</span><br><span class="line">      &#125;</span><br><span class="line">      return i</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return -1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let arr = [9, 1, -3, 4, 2, 7]</span><br><span class="line">let index = linearSearch(arr, 5)</span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/18/自己实现简易版Promise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/18/自己实现简易版Promise/" itemprop="url">自己实现简易版Promise</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-18T23:26:34+08:00">
                2019-02-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">function Promise(fn)&#123;</span><br><span class="line">    var status = &apos;pending&apos;</span><br><span class="line">    function successNotify()&#123;</span><br><span class="line">        status = &apos;resolved&apos;</span><br><span class="line">        toDoThen.apply(undefined, arguments)</span><br><span class="line">    &#125;</span><br><span class="line">    function failNotify()&#123;</span><br><span class="line">        status = &apos;rejected&apos;</span><br><span class="line">        toDoThen.apply(undefined, arguments)</span><br><span class="line">    &#125;</span><br><span class="line">    function toDoThen()&#123;</span><br><span class="line">        setTimeout(()=&gt;&#123; // 保证回调是异步执行的</span><br><span class="line">            if(status === &apos;resolved&apos;)&#123;</span><br><span class="line">                for(let i =0; i&lt; successArray.length;i ++)    &#123;</span><br><span class="line">                    successArray[i].apply(undefined, arguments)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;else if(status === &apos;rejected&apos;)&#123;</span><br><span class="line">                for(let i =0; i&lt; failArray.length;i ++)    &#123;</span><br><span class="line">                    failArray[i].apply(undefined, arguments)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    var successArray = []</span><br><span class="line">    var failArray = []</span><br><span class="line">    fn.call(undefined, successNotify, failNotify)</span><br><span class="line">    return &#123;</span><br><span class="line">        then: function(successFn, failFn)&#123;</span><br><span class="line">            successArray.push(successFn)</span><br><span class="line">            failArray.push(failFn)</span><br><span class="line">            return undefined // 简化</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/04/JavaScript实现各种排序算法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/04/JavaScript实现各种排序算法/" itemprop="url">JavaScript实现各种排序算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-04T18:34:51+08:00">
                2019-01-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-冒泡排序"><a href="#1-冒泡排序" class="headerlink" title="1.冒泡排序"></a>1.冒泡排序</h4><h5 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function bubleSort(arr) &#123;</span><br><span class="line">  for(let i = 0; i &lt; arr.length /*i代表轮数*/; i++) &#123;</span><br><span class="line">    for(let j = 0; j &lt; arr.length - i /*j代表当前轮选中的元素下标*/; j++) &#123;</span><br><span class="line">      if(arr[j] &gt; arr[j+1]) &#123;</span><br><span class="line">        [ arr[j], arr[j+1] ] = [ arr[j+1], arr[j] ] /*交换元素*/</span><br><span class="line">      &#125;</span><br><span class="line">      //console.log(arr)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [10, 34, 21, 47, 3, 28]</span><br><span class="line">bubleSort(arr)</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>时间复杂度(可以理解为排序的次数)计算： (n-1) + (n-2) + … + 1 = n*(1 + (n-1))/2，所以时间复杂度为 O(n^2) </p>
<h4 id="2-选择排序"><a href="#2-选择排序" class="headerlink" title="2.选择排序"></a>2.选择排序</h4><h5 id="实现方式-1"><a href="#实现方式-1" class="headerlink" title="实现方式"></a>实现方式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function selectSort(arr) &#123;</span><br><span class="line">  for(let min = i = 0; i &lt; arr.length /*i代表轮数*/; i++) &#123;</span><br><span class="line">    min = i</span><br><span class="line">    for(let j = i + 1; j &lt; arr.length; j++) &#123;</span><br><span class="line">      if(arr[min] &gt; arr[j]) &#123;</span><br><span class="line">        min = j</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    [ arr[i], arr[min] ] = [ arr[min], arr[i] ] //把每轮的第一个和当前轮的最小值交换位置</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [10, 34, 21, 47, 3, 28]</span><br><span class="line">sselectSort(arr)</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度-1"><a href="#时间复杂度-1" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>时间复杂度为 O(n^2) </p>
<h4 id="3-插入排序"><a href="#3-插入排序" class="headerlink" title="3.插入排序"></a>3.插入排序</h4><h5 id="实现方式-2"><a href="#实现方式-2" class="headerlink" title="实现方式"></a>实现方式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> function insertSort(arr) &#123;</span><br><span class="line">   for (let i = 1; i &lt; arr.length; i++) &#123;</span><br><span class="line">     for (let j = 0; j &lt; i; j++) &#123;</span><br><span class="line">       if (arr[i] &lt; arr[j]) &#123;</span><br><span class="line">         arr.splice(j, 0, arr[i])</span><br><span class="line">         arr.splice(i + 1, 1)</span><br><span class="line">         break</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">var arr = [10, 34, 21, 47, 3, 28]</span><br><span class="line">insertSort(arr)</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度-2"><a href="#时间复杂度-2" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>时间复杂度为 O(n^2) </p>
<h4 id="4-快速排序"><a href="#4-快速排序" class="headerlink" title="4.快速排序"></a>4.快速排序</h4><h5 id="实现方式-3"><a href="#实现方式-3" class="headerlink" title="实现方式"></a>实现方式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> function quickSort(arr) &#123;</span><br><span class="line">  if(arr.length &lt;= 1) &#123;</span><br><span class="line">    return arr</span><br><span class="line">  &#125;</span><br><span class="line">  let leftArr = [] </span><br><span class="line">  let rightArr = []</span><br><span class="line">  for(let i = 1; i &lt; arr.length; i++) &#123;</span><br><span class="line">    if(arr[i] &gt;= arr[0]) &#123;</span><br><span class="line">      rightArr.push(arr[i])</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      leftArr.push(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return quickSort(leftArr).concat(arr[0]).concat(quickSort(rightArr))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [10, 34, 21, 47, 3, 28]</span><br><span class="line">quickSort(arr)</span><br></pre></td></tr></table></figure>
<h5 id="时间复杂度-3"><a href="#时间复杂度-3" class="headerlink" title="时间复杂度"></a>时间复杂度</h5><p>时间复杂度为 O(nlogn)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/16/Vue组件通信/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/16/Vue组件通信/" itemprop="url">Vue组件通信</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-16T22:06:08+08:00">
                2018-09-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Vue组件之间的通信主要归为如下形式：<br>父子组件之间的通信<br>任意两个组件之间的通信（父子组件通信，爷孙组件通信，兄弟组件通信）<br>最终的boss，Vuex-状态管理模式<br>由繁到简，我们可以首先探讨一下父子之间的通信</p>
<h4 id="1-子组件想改父组件的"><a href="#1-子组件想改父组件的" class="headerlink" title="1.子组件想改父组件的"></a>1.子组件想改父组件的<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父组件传属性给子组件，子组件发事件给父组件，父组件再传属性给子组件，如此循环。</span><br></pre></td></tr></table></figure></h4><p><template><br>    <div class="parent"><br>        <p>父:给你元钱</p><br>        <kid :money=" money" @repay="repay"></kid><br>        <br><br>        <button @click="add">那给你加100</button><br>        <p v-if="back" @repay="repay">子：超过500我不要元</p><br>    </div><br></template></p>
<p><script><br>export default {<br>    name: ‘parent’,<br>    data () {<br>        return {<br>            money: 100,<br>            back: 0<br>        }<br>    },<br>    components:{ kid },<br>    methods:{<br>        repay (back) {<br>            this.back = back<br>        },<br>        add(){<br>            this.money += 100;<br>        }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#### 2.爷孙组件间的通信</span><br><span class="line">本质：两次父子间通信</span><br><span class="line">- 情形一：爷爷控制孙子</span><br></pre></td></tr></table></figure></p>
<p>&lt;!DOCTYPE html&gt;</p>
<p><html></p>
<p><head><br>  <meta charset="utf-8"><br>  <meta name="viewport" content="width=device-width"><br>  <title>JS Bin</title><br>  <script src="https://cdn.bootcss.com/vue/2.5.13/vue.min.js"></script><br>  <script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.min.js"></script><br>  <script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script><br></p>
<p><body><br>  <div id="app"><br>    <p></p><br>    <button @click="xxx = true">打开</button><br>    <hr><br>    <child :visible="xxx" @close="log"></child><br>  </div> </body></p>
<p><br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">Vue.component(&apos;child&apos;, &#123;</span><br><span class="line">  props: [&apos;visible&apos;],</span><br><span class="line">  template: `</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      我是儿子</span><br><span class="line">      </span><br><span class="line">      &lt;grand-child v-show=&quot;visible&quot; @close=&quot;$emit(&apos;close&apos;)&quot;&gt;&lt;/grand-child&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line">Vue.component(&apos;grandChild&apos;, &#123;</span><br><span class="line">  template: `</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      我是孙子</span><br><span class="line">      &lt;button @click=&quot;$emit(&apos;close&apos;)&quot;&gt;关闭&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &apos;我是爷爷&apos;,</span><br><span class="line">    xxx: false,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    log() &#123;</span><br><span class="line">      console.log(&apos;爷爷收到消息&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>情形二：孙子向上一层一层通知爷爷<br><a href="http://jsbin.com/sobajafazo/edit?html,js,output" target="_blank" rel="noopener">示例</a><h4 id="3-兄弟组件之间的通信"><a href="#3-兄弟组件之间的通信" class="headerlink" title="3.兄弟组件之间的通信"></a>3.兄弟组件之间的通信</h4>想要在两个兄弟组件之间通信，需要一个中间的桥梁，那么在这里我们可以使用 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">创建一个Vue对象</span><br></pre></td></tr></table></figure></li>
</ul>
<p>// bus.js<br>export default new Vue();<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用```$on```进行监听</span><br></pre></td></tr></table></figure></p>
<p>import Bus from ‘../bus.js’;<br>export default {<br>  ready() {<br>    Bus.$on(‘loadSuccess’, text =&gt; {<br>      this.show = true;<br>      this.status = ‘loadSuccess’<br>      if (text) {<br>        this.text = text;<br>      }<br>    })<br>  },<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用```$emit```触发事件</span><br></pre></td></tr></table></figure></p>
<p>ajax({<br>  url: Config.API_ADDRESS_ADD,<br>  type: ‘post’,<br>  dataType: ‘json’,<br>  data: data<br>}).then((data)=&gt;{<br>    Bus.$emit(‘loadSuccess’, ‘添加成功！’);<br>}).catch((data)=&gt; {<br>})<br><code>使用</code>$once<code>注册，触发之后即被销毁。
使用</code>$off<code>`</code>解绑事件</p>
<p>以上就是Vue组件通信的几种形式，另外，当项目比较大，通信比较复杂时，我们可以考虑使用Vuex 。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/14/VueRouter入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/14/VueRouter入门/" itemprop="url">VueRouter入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-14T21:09:07+08:00">
                2018-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h3><p>由于Vue在开发时对路由支持的不足，后来官方补充了vue-router插件，它在Vue的生态环境中非常重要，在实际开发中只要编写一个页面就会操作vue-router。要学习vue-router就要先知道这里的路由是什么？这里的路由并不是指我们平时所说的硬件路由器，这里的路由就是SPA（单页应用）的路径管理器。再通俗的说，vue-router就是我们WebApp的链接路径管理系统。<br>有的小伙伴会有疑虑，为什么我们不能像原来一样直接用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">### 2.解读router/index.js文件</span><br><span class="line">我们用vue-cli生产了我们的项目结构，你可以在src/router/index.js文件，这个文件就是路由的核心文件，我们先解读一下它。</span><br></pre></td></tr></table></figure></p>
<p>import Vue from ‘vue’   //引入Vue<br>import Router from ‘vue-router’  //引入vue-router<br>import Hello from ‘@/components/Hello’  //引入根目录下的Hello.vue组件</p>
<p>Vue.use(Router)  //Vue全局使用Router</p>
<p>export default new Router({<br>  routes: [              //配置路由，这里是个数组<br>    {                    //每一个链接都是一个对象<br>      path: ‘/‘,         //链接路径<br>      name: ‘Hello’,     //路由名称，<br>      component: Hello   //对应的组件模板<br>    }<br>  ]<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">### 3.增加一个Hi的路由和页面</span><br><span class="line">对路由的核心文件熟悉后，我们试着增加一个路由配置，我们希望在地址栏输入 http://localhost:8080/#/hi 的时候出现一个新的页面，先来看一下我们希望得到的效果。</span><br><span class="line">具体操作步骤如下：</span><br><span class="line">- 在src/components目录下，新建 Hi.vue 文件。</span><br><span class="line">- 编写文件内容，和我们之前讲过的一样，文件要包括三个部分```&lt;template&gt;&lt;script&gt;和&lt;style&gt;```。文件很简单，只是打印一句话。</span><br></pre></td></tr></table></figure></p>
<template><br>  <div class="hello"><br>    <h1></h1><br>  </div><br></template>

<script>
export default {
  name: 'hi',
  data () {
    return {
      msg: 'Hi, I am JSPang'
    }
  }
}
</script>


<style scoped>

<p></style><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 引入 Hi组件：我们在router/index.js文件的上边引入Hi组件 ```import Hi from &apos;@/components/Hi&apos;</span><br></pre></td></tr></table></figure><p></p>
<ul>
<li>增加路由配置：在router/index.js文件的routes[]数组中，新增加一个对象，代码如下。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path:&apos;/hi&apos;,</span><br><span class="line">  name:&apos;Hi&apos;,</span><br><span class="line">  component:Hi</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="4-router-link制作导航"><a href="#4-router-link制作导航" class="headerlink" title="4.router-link制作导航"></a>4.router-link制作导航</h3><p>现在通过在地址栏改变字符串地址，已经可以实现页面内容的变化了。这并不满足需求，我们需要的是在页面上有个像样的导航链接，我们只要点击就可以实现页面内容的变化。制作链接需要<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">```&lt;router-link to=&quot;/&quot;&gt;[显示字段]&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="1-改造App-vue的导航代码"><a href="#1-改造App-vue的导航代码" class="headerlink" title="1.改造App.vue的导航代码"></a>1.改造App.vue的导航代码</h4><p>App.vue代码，注意<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">      &lt;p&gt;导航 ：</span><br><span class="line">      &lt;router-link to=&quot;/&quot;&gt;首页&lt;/router-link&gt; | </span><br><span class="line">      &lt;router-link to=&quot;/hi&quot;&gt;Hi页面&lt;/router-link&gt; |</span><br><span class="line">      &lt;router-link to=&quot;/hi/hi1&quot;&gt;-Hi页面1&lt;/router-link&gt; |</span><br><span class="line">      &lt;router-link to=&quot;/hi/hi2&quot;&gt;-Hi页面2&lt;/router-link&gt;</span><br><span class="line">      &lt;router-link to=&quot;/hi1&quot;&gt;Hi页面&lt;/router-link&gt; </span><br><span class="line">     &lt;/p&gt;</span><br><span class="line">    &lt;router-view/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="2-改写components-Hi-vue页面"><a href="#2-改写components-Hi-vue页面" class="headerlink" title="2.改写components/Hi.vue页面"></a>2.改写components/Hi.vue页面</h4><p>把Hi.vue改成一个通用的模板，加入标签，给子模板提供插入位置。“Hi页面1” 和 “Hi页面2” 都相当于“Hi页面”的子页面，有点想继承关系。我们在“Hi页面”里加入标签。</p>
<ul>
<li><p>Hi1.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;hi&apos;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &apos;Hi, I am Hi1!&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Hi2.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;hi&apos;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &apos;Hi, I am Hi2&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="3-Hi-vue代码"><a href="#3-Hi-vue代码" class="headerlink" title="3.Hi.vue代码"></a>3.Hi.vue代码</h4><p>注意新增的router-view<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;router-view class=&quot;aaa&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">   </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;hi&apos;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &apos;Hi, I am JSPang&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="4-修改router-index-js代码"><a href="#4-修改router-index-js代码" class="headerlink" title="4.修改router/index.js代码"></a>4.修改router/index.js代码</h4><p>我们现在导航有了，母模板和子模板也有了，只要改变我们的路由配置文件就可以了。子路由的写法是在原有的路由配置下加入children字段。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">children:[</span><br><span class="line">&#123;path:&apos;/&apos;,component:xxx&#125;,</span><br><span class="line">&#123;path:&apos;xx&apos;,component:xxx&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>children字段后边跟的是个数组，数组里和其他配置路由基本相同，需要配置path和component。具体看一下这个子路由的配置写法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;   </span><br><span class="line">import Router from &apos;vue-router&apos;  </span><br><span class="line">import Hello from &apos;@/components/Hello&apos;  </span><br><span class="line">import Hi from &apos;@/components/Hi&apos; </span><br><span class="line">import Hi1 from &apos;@/components/Hi1&apos; </span><br><span class="line">import Hi2 from &apos;@/components/Hi2&apos; </span><br><span class="line"> </span><br><span class="line">Vue.use(Router) </span><br><span class="line"> </span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  routes: [             </span><br><span class="line">    &#123;                    </span><br><span class="line">      path: &apos;/&apos;,        </span><br><span class="line">      name: &apos;Hello&apos;,     </span><br><span class="line">      component: Hello   </span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      path:&apos;/hi&apos;,</span><br><span class="line">      component:Hi,</span><br><span class="line">      children:[</span><br><span class="line">        &#123;path:&apos;/&apos;,component:Hi&#125;,</span><br><span class="line">        &#123;path:&apos;hi1&apos;,component:Hi1&#125;,</span><br><span class="line">        &#123;path:&apos;hi2&apos;,component:Hi2&#125;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/11/CSS进阶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/11/CSS进阶/" itemprop="url">CSS进阶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-11T20:21:26+08:00">
                2018-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-父亲儿子的上下margin合并"><a href="#1-父亲儿子的上下margin合并" class="headerlink" title="1. 父亲儿子的上下margin合并"></a>1. 父亲儿子的上下margin合并</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .child&#123;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">      margin-top: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">    .parent&#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      background: green;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>这样儿子的margin-top会给到父亲，把父亲挤下来，但只要在父亲里加：</p>
<ul>
<li><code>border: 0.1px solid green;</code></li>
<li><code>padding: 0.1px</code></li>
<li><code>display: table;</code></li>
<li><code>display: flex;</code>（不加width的话会把width变成0）</li>
<li><code>display: inline-block</code>（不加width的话会把width变成0）</li>
</ul>
<p>则上下margin不会合并，父亲还是会把儿子包起来</p>
<h1 id="2-对齐中文"><a href="#2-对齐中文" class="headerlink" title="2. 对齐中文"></a>2. 对齐中文</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    span&#123;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      text-align: justify;</span><br><span class="line">      width: 5em;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      height: 20px;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">    &#125;</span><br><span class="line">    span::after&#123;</span><br><span class="line">      content: &apos;&apos;;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      width: 100%;</span><br><span class="line">      border: 1px solid blue;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;span&gt;姓名&lt;/span&gt; &lt;br&gt;</span><br><span class="line">  &lt;span&gt;联系方式&lt;/span&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h1 id="3-文字溢出变省略"><a href="#3-文字溢出变省略" class="headerlink" title="3. 文字溢出变省略"></a>3. 文字溢出变省略</h1><ol>
<li><p>显示一行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div&#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    只显示一行，超出一行的用省略号替代....</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>显示任意多少行（不兼容iE）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div&#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    display: -webkit-box;  //-webkit不兼容IE</span><br><span class="line">    -webkit-line-clamp: 1;  //只显示1行</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    文字文字文字....</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="4-文字绝对居中"><a href="#4-文字绝对居中" class="headerlink" title="4. 文字绝对居中"></a>4. 文字绝对居中</h1><p>不要给div加height，直接用padding当作高度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div&#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    /* 写line-height，不要写height */</span><br><span class="line">    line-height: 24px;  /* div高为line-height+2*padding */</span><br><span class="line">    padding: 8px 0;  /* 垂直居中 */</span><br><span class="line">    text-align: center;  /* 水平居中 */</span><br><span class="line">  &#125;  </span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    文字文字文字....</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="5-文档流"><a href="#5-文档流" class="headerlink" title="5. 文档流"></a>5. 文档流</h1><p><strong>1. div高度</strong><br>综1和4所述，div高度是由div内部文档流元素高度总和决定的，文档流中内联元素从左到右依次排列若空间不够则换行，文档流中块级元素从上到下依次排列</p>
<ol start="2">
<li>脱离文档流</li>
</ol>
<ul>
<li><code>float</code></li>
<li><code>position: absolute</code></li>
<li><code>position: fixed</code></li>
</ul>
<ol start="3">
<li>相对定位（relative）<br><code>position:relative</code>不会脱离文档流，给相对定位的元素设置top和left，会相对它之前在的位置变化，但它之前占的位置会一直占在那，不会脱离文档流</li>
</ol>
<h1 id="6-div绝对居中"><a href="#6-div绝对居中" class="headerlink" title="6. div绝对居中"></a>6. div绝对居中</h1><ol>
<li><p>parent没写height时</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .child&#123;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">      margin: 0 auto;  /* 水平居中 */</span><br><span class="line">      width: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">    .parent&#123;</span><br><span class="line">      border: 1px solid green;</span><br><span class="line">      padding: 100px 0;  /* 垂直居中 */</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">      asd asd </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>parent写了height（不兼容IE）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .child&#123;</span><br><span class="line">      border: 1px solid red;</span><br><span class="line">    &#125;</span><br><span class="line">    .parent&#123;</span><br><span class="line">      border: 1px solid green;</span><br><span class="line">      height: 100px;</span><br><span class="line">      display: flex;  /* 这三行搞定 */</span><br><span class="line">      justify-content: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">      asd asd </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="7-内联元素的宽高"><a href="#7-内联元素的宽高" class="headerlink" title="7. 内联元素的宽高"></a>7. 内联元素的宽高</h1><p>padding和margin只会影响内联元素的宽度，不影响高度。<br>内联元素的宽度由文字个数、padding、margin、border决定。<br>高度只由<code>line-height:5;</code>和<code>font-size</code>决定。<br><strong>块级元素高度由内部文档流决定</strong></p>
<h1 id="8-生成一个1-1的div（不写高度）"><a href="#8-生成一个1-1的div（不写高度）" class="headerlink" title="8. 生成一个1:1的div（不写高度）"></a>8. 生成一个1:1的div（不写高度）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    div&#123;</span><br><span class="line">      border: 1px solid green;</span><br><span class="line">      padding-top: 100%;  /* 这是高度，会随宽度变化自动变 */</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;parent&quot;&gt; &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h1 id="9-层叠关系"><a href="#9-层叠关系" class="headerlink" title="9. 层叠关系"></a>9. 层叠关系</h1><p><img src="/images/层叠关系.png" alt="堆叠顺序"></p>
<h1 id="10-堆叠上下文"><a href="#10-堆叠上下文" class="headerlink" title="10. 堆叠上下文"></a>10. 堆叠上下文</h1><ul>
<li>根元素（HTML）</li>
<li>z-index值不为auto的 绝对/相对定位的元素就是堆叠上下文</li>
<li><code>position: fixed</code>也是堆叠上下文</li>
<li><code>opacity: 0.5</code>也是</li>
</ul>
<ol>
<li>堆叠上下文越后写的级别越高，级别高的堆叠上下文里的所有东西都可以压过级别底的里的所有东西。</li>
<li><strong>在父亲是堆叠上下文中的儿子元素即使是<code>z-index: -1;</code>，在层叠关系里也会在父亲的border和background之上，不会沉下去</strong></li>
</ol>
<h1 id="11-响应式（基本没人用了）"><a href="#11-响应式（基本没人用了）" class="headerlink" title="11. 响应式（基本没人用了）"></a>11. 响应式（基本没人用了）</h1><ol>
<li><p>媒体查询</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  /* 屏幕宽度为300px-325px时的css样式  */</span><br><span class="line">  @media(min-width: 300px) and (max-width: 325px)&#123;  </span><br><span class="line">    body&#123;</span><br><span class="line">     background: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /* 屏幕宽度小于450px时的css样式  */</span><br><span class="line">  @media(max-width: 450px)&#123;  </span><br><span class="line">    body&#123;</span><br><span class="line">     background: black;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  /* 这样前面那个就没用了，被覆盖了  */</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>一般不用第一个方法，直接引用一个手机版的css即可</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; media=&quot;(max-width:768px)&quot; href=&quot;mobile.css&quot;&gt;</span><br></pre></td></tr></table></figure>
<p> 在屏幕宽度小于768px时，就会渲染这个css，要把这个引用写在main.css之后，把main.css覆盖。<br>并加上<code>meta:vp</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="12-flex布局"><a href="#12-flex布局" class="headerlink" title="12. flex布局"></a>12. flex布局</h1><p><img src="https://upload-images.jianshu.io/upload_images/10444223-2c9cbe0f2b41f70b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="flex布局"></p>
<ol>
<li><p>container的属性</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">flex-direction: row;// （默认）所有内容排列在一行</span><br><span class="line">flex-direction: row-reverse; //反向排列在一行</span><br><span class="line">flex-direction: column; //所有内容排列在一列</span><br><span class="line">flex-direction: column-reverse; //反向</span><br><span class="line"></span><br><span class="line">flex-wrap: nowrap; //不换行（默认）</span><br><span class="line">flex-wrap: wrap; //自动换行</span><br><span class="line"></span><br><span class="line">flex-flow: row nowrap; //上面两个属性的简写</span><br><span class="line"></span><br><span class="line">//justify控制主轴</span><br><span class="line">justify-content: space-between; //这两个都是子元素在一行均匀分布</span><br><span class="line">justify-content: space-around;</span><br><span class="line">justify-content: flex-start; //子元素都往起点靠</span><br><span class="line">justify-content: flex-end; //子元素都往终点靠</span><br><span class="line">justify-content: center; //子元素居中</span><br><span class="line"></span><br><span class="line">//align控制子元素的侧轴</span><br><span class="line">align-items: stretch; //（默认）把同一行里的子元素的高度都伸展到同一行里最高那个元素</span><br><span class="line">align-items: center;  //垂直居中</span><br><span class="line">align-items: flex-start; //往侧轴的起点靠</span><br></pre></td></tr></table></figure>
</li>
<li><p>item的属性</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//flex-grow,当一行空间没占满的时候</span><br><span class="line">.child:nth-child(1)&#123;</span><br><span class="line">  flex-grow: 2;</span><br><span class="line">&#125;</span><br><span class="line">.child:nth-child(2)&#123;</span><br><span class="line">  flex-grow: 1;</span><br><span class="line">&#125;</span><br><span class="line">//在同一行内把这两个元素按2比1的比例占满这一行</span><br><span class="line"></span><br><span class="line">//这三个元素的简写，后两个很少用</span><br><span class="line">flex: flex-grow flex-shrink flex-basis;</span><br><span class="line"></span><br><span class="line">//order（实现双飞翼）</span><br><span class="line">.child:nth-child(1)&#123;</span><br><span class="line">  order: 2;  //改变排列顺序，这个放在第二个</span><br><span class="line">&#125;</span><br><span class="line">.child:nth-child(2)&#123;</span><br><span class="line">  order: 1;  //这个放在第一个</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//align-self</span><br><span class="line">.child:nth-child(1)&#123;</span><br><span class="line">  align-self: center; //第一个儿子在垂直方向居中</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="13-小技巧"><a href="#13-小技巧" class="headerlink" title="13. 小技巧"></a>13. 小技巧</h1><p>对<code>display:none</code>到<code>display:block</code>的过程<code>transition: all 1s;</code>没用，可以改成<code>visibility: hidden;</code>和<code>visibility: visible</code></p>
<h1 id="14-bootstrap"><a href="#14-bootstrap" class="headerlink" title="14. bootstrap"></a>14. bootstrap</h1><ol>
<li>安装<br><a href="http://v3.bootcss.com/getting-started/#download" target="_blank" rel="noopener">下载</a>css、js文件，js需要用jquery，所以要先引用jquery</li>
<li><p>栅格系统</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=container&gt;  //自动居中</span><br><span class="line">  &lt;div class=row&gt;  //一行分成12份</span><br><span class="line">    &lt;div class=col-md-1&gt;1&lt;/div&gt;  //这两个分别占1份和11份</span><br><span class="line">    &lt;div class=col-md-11&gt;11&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=row&gt;  //第二行</span><br><span class="line">    &lt;div class=&quot;col-md-9 col-md-offset-3&quot;&gt;9&lt;/div&gt;  //这样这个div会往右边对齐，因为第二个class代表往右偏3格</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=row&gt;  //第三行</span><br><span class="line">    &lt;div class=&quot;col-xs-6 col-md-1 col-sm-3&quot;&gt;6&lt;/div&gt;  </span><br><span class="line">    //在屏幕宽度很小的时候（手机）占6份</span><br><span class="line">    //中等（电脑）的时候占1份</span><br><span class="line">    //小（ipad）的时候占3份</span><br><span class="line">    //超大屏(col-lg-12)</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>秘诀<br>直接复制<a href="http://v3.bootcss.com/css/" target="_blank" rel="noopener">官网</a>的html代码，<a href="http://v3.bootcss.com/components/" target="_blank" rel="noopener">复杂css组件</a>，<a href="http://v3.bootcss.com/javascript/" target="_blank" rel="noopener">js组件</a>，<a href="http://v3.bootcss.com/customize/" target="_blank" rel="noopener">定制bootstrap</a>可以自己改样式、颜色</p>
</li>
<li><p>小技巧<br>靠右：不写<code>col-md-...</code>，直接写<code>pull-right</code></p>
</li>
<li><p>主题<br>下载的文件里有bootstrap.theme.css</p>
</li>
</ol>
<h1 id="15-IFC"><a href="#15-IFC" class="headerlink" title="15. IFC"></a>15. IFC</h1><ul>
<li><code>font-size</code>是刻字的时候的那个模版的大小</li>
<li><code>line-height</code>是字所占的行高，但不同字体排在一起行高可能会变了，因为每个字体基线位置不同。而在一排要用基线对齐</li>
<li><code>vertical-top</code>是元素实际占的高度的顶部对齐，所以img不写<code>vertical-top</code>的时候是以基线对齐的，下面会空出一点东西</li>
<li>不要用<code>inline-block</code>布局了，用<code>flex</code>或<code>float</code></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/07/let 相关面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/07/let 相关面试题/" itemprop="url">let相关面试题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-07T23:03:17+08:00">
                2018-09-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>经典面试题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for ( var i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer() &#123;</span><br><span class="line">		console.log( i );</span><br><span class="line">	&#125;, i*1000 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里因为 var会变量提升，所以实际上是下面这样子的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var i</span><br><span class="line">for ( i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer() &#123;</span><br><span class="line">		console.log( i );</span><br><span class="line">	&#125;, i*1000 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样一来循环一直都只有一个i，而setTimeout是个异步函数，所以会先所有会先把循环全部执行完毕，这时候 i 就是 5 了，而每次循环都会设置一个闹钟，闹钟执行时间分别是0s、1s、2s、3s、4s、5s，每一个闹钟的i都是最终的i，也就是i等于5，所以这题最终结果是输出5个5。</p>
<ul>
<li>解决办法有三种</li>
</ul>
<ol>
<li><p>使用闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">  (function(j) &#123;</span><br><span class="line">    setTimeout(function timer() &#123;</span><br><span class="line">      console.log(j);</span><br><span class="line">    &#125;, j * 1000);</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 setTimeout 的第三个参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for ( var i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer(j) &#123;</span><br><span class="line">		console.log( j );</span><br><span class="line">	&#125;, i*1000, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 let 定义 i </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for ( let i=0; i&lt;5; i++) &#123;</span><br><span class="line">	setTimeout( function timer() &#123;</span><br><span class="line">		console.log( i );</span><br><span class="line">	&#125;, i*1000 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>以上三种方法都能解决因为var变量提升而引起的误解，所以最终结果都是0s输出0，1s输出1，2s输出2，3s输出3，4s输出4，5s输出5。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/05/canvas入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/05/canvas入门/" itemprop="url">canvas入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-05T20:44:48+08:00">
                2018-09-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//获取canvas标签</span><br><span class="line">var canvas = document.querySelector(&quot;#canvas&quot;);  </span><br><span class="line"></span><br><span class="line">//初始化</span><br><span class="line">var context = canvas.getContext(&apos;2d&apos;);  </span><br><span class="line"></span><br><span class="line">//画线</span><br><span class="line">function drawLine(x1,y1,x2,y2) &#123;</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.moveTo(x1-0,y1+29);  //起点</span><br><span class="line">    context.lineWidth = 5;  //线的粗细</span><br><span class="line">    context.lineTo(x2-0,y2+29);  //终点</span><br><span class="line">    context.stroke();  //将各个点练成线</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//画三角形</span><br><span class="line">function drawLine(x1,y1,x2,y2) &#123;</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.moveTo(x1,y1);  //起点</span><br><span class="line">    context.lineTo(x2,y2);  //第二个点</span><br><span class="line">    context.lineTo(x3,y3);  //第三个点</span><br><span class="line">    context.stroke();  //将各个点练成线</span><br><span class="line">    context.closePath();  //自动将第一个点和最后一个点连起来</span><br><span class="line">&#125;</span><br><span class="line">//画圆圈</span><br><span class="line">function drawTriangle(x,y,r) &#123;</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.arc(x-0,y+29,r,0,Math.PI*2);  //left，top，半径， 起点（以原点为圆心从第一象限的x轴开始往y轴负方向画圈），终点</span><br><span class="line">    context.fill();  //将圆圈填色</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">context.strokeStyle = &apos;black&apos;;  //线的颜色</span><br><span class="line">context.fillStyle = &apos;black&apos;;  //圆圈填充的颜色</span><br><span class="line">context.clearRect(x,y,30,30);  //橡皮擦功能</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><a href="https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_canvas_arc" target="_blank" rel="noopener">arc的参数自己试</a></p>
<ol start="2">
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function setCanvasSize() &#123;</span><br><span class="line">  //获取用户界面的宽高</span><br><span class="line">  var pageWidth = document.documentElement.clientWidth;</span><br><span class="line">  var pageHeight = document.documentElement.clientHeight;</span><br><span class="line">  //赋给画板</span><br><span class="line">  canvas.width = pageWidth;</span><br><span class="line">  canvas.height = pageHeight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//触屏设备</span><br><span class="line">canvas.ontouchstart = function(ev)&#123;</span><br><span class="line">  var x = ev.touches[0].clientX;  //获取点击的位置</span><br><span class="line">  var y = ev.touches[0].clientY;</span><br><span class="line">&#125;  //监听手指点击事件</span><br><span class="line">canvas.ontouchmove = function()&#123;&#125;  //监听手指移动事件</span><br><span class="line"></span><br><span class="line">//非触屏设备</span><br><span class="line">canvas.onmousedown = function(ev)&#123;&#125;</span><br><span class="line">canvas.onmousemove = function (ev) &#123;&#125;</span><br><span class="line">canvas.onmouseup = function () &#123;&#125;</span><br><span class="line">canvas.onmouseout = function () &#123;&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/02/什么是闭包-闭包的用途/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="梁光静">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梁光静">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/02/什么是闭包-闭包的用途/" itemprop="url">闭包</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-02T21:37:09+08:00">
                2018-09-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><h2 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function 函数()&#123;</span><br><span class="line">    var 变量  = 1；</span><br><span class="line">    function 内部函数()&#123;</span><br><span class="line">        console.log(变量);</span><br><span class="line">    &#125;</span><br><span class="line">    return 内部函数;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的例子中</p>
<ul>
<li>内部函数 + 变量（内部函数能访问到这个变量） =  闭包</li>
<li>return  内部函数只是为了能使用到这个内部函数 ， 也就是能使用闭包</li>
<li>函数套函数是为了隐藏一个变量 或者说这就是闭包的作用</li>
</ul>
<h2 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function create()</span><br><span class="line">&#123;</span><br><span class="line">  var n=999;</span><br><span class="line">  return &#123;</span><br><span class="line">    set : function(aaa)&#123;</span><br><span class="line">        n = aaa;</span><br><span class="line">    &#125;,</span><br><span class="line">    get : function()&#123;</span><br><span class="line">        return n;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = create();</span><br><span class="line">var b = create();</span><br><span class="line">a.set(2);</span><br><span class="line">console.log(a.get());</span><br><span class="line">console.log(b.get());</span><br></pre></td></tr></table></figure>
<ul>
<li>闭包的作用就是间接的访问一个变量 ，隐藏一个变量</li>
<li>去掉那个外层函数  变量就会很容易被直接使用并且修改</li>
<li>n 是一个局部变量 ，在函数外面是使用不到这个变量的</li>
<li>这时候get 和 set  函数就是 用来间接访问这个变量的访问器</li>
<li>闭包和变量的作用域有关</li>
</ul>
<p>在我们写js代码的时候会很容易就出现闭包， 而不是我们经常有意的去创造闭包<br>引用维基百科：闭包（Closure）是词法闭包（Lexical Closure）的简称，是引用了自由变量的函数。这个被引用的自由变量将和这个函数一同存在，即使已经离开了创造它的环境也不例外。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">梁光静</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">36</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">梁光静</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
